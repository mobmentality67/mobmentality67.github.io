<!doctype html>
<html>

<head>
  <meta name="viewport" content="width=device-width">
  <title>Beary Good Sim</title>

  <link href="dist/css/theme.default.min.css" rel="stylesheet">
  <link href="dist/css/style.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap" rel="stylesheet">

  <script type="text/javascript" src="dist/js/libs/jquery-3.4.1.min.js"></script>
  <script type="text/javascript" src="dist/js/libs/jquery.tablesorter.min.js"></script>
  <script type="text/javascript" src="dist/js/libs/jquery.tablesorter.widgets.min.js"></script>
  <script type="text/javascript" src="dist/js/libs/Chart.min.js"></script>

<!--   <script type="text/javascript" src="dist/js/classes/player.min.js"></script>
  <script type="text/javascript" src="dist/js/classes/simulation.min.js"></script>
  <script type="text/javascript" src="dist/js/classes/spell.min.js"></script>
  <script type="text/javascript" src="dist/js/classes/weapon.min.js"></script>
  <script type="text/javascript" src="dist/js/data/gear.min.js"></script>
  <script type="text/javascript" src="dist/js/data/races.min.js"></script>
  <script type="text/javascript" src="dist/js/data/buffs.min.js"></script>
  <script type="text/javascript" src="dist/js/data/spells.min.js"></script>
  <script type="text/javascript" src="dist/js/data/talents.min.js"></script>
  <script type="text/javascript" src="dist/js/data/session.min.js"></script>
  <script type="text/javascript" src="dist/js/globals.min.js"></script>
  <script type="text/javascript" src="dist/js/settings.min.js"></script>
  <script type="text/javascript" src="dist/js/stats.min.js"></script>
  <script type="text/javascript" src="dist/js/ui.min.js"></script> -->

  <!-- TESTING JS -->
  <script type="text/javascript" src="js/classes/player.js"></script>
  <script type="text/javascript" src="js/classes/simulation.js"></script>
  <script type="text/javascript" src="js/classes/spell.js"></script>
  <script type="text/javascript" src="js/classes/weapon.js"></script>
  <script type="text/javascript" src="js/data/gear.js"></script>
  <script type="text/javascript" src="js/data/races.js"></script>
  <script type="text/javascript" src="js/data/buffs.js"></script>
  <script type="text/javascript" src="js/data/spells.js"></script>
  <script type="text/javascript" src="js/data/talents.js"></script>
  <script type="text/javascript" src="js/data/boss_presets.js"></script>
  <script type="text/javascript" src="js/data/session.js"></script>
  <script type="text/javascript" src="js/globals.js"></script>
  <script type="text/javascript" src="js/settings.js"></script>
  <script type="text/javascript" src="js/stats.js"></script>
  <script type="text/javascript" src="js/ui.js"></script>

  <script>var whTooltips = { colorLinks: true, iconizeLinks: false, renameLinks: false, "hide": { "ilvl": false } };</script>
  <script src="https://wow.zamimg.com/widgets/power.js"></script>
</head>
<!--

Log option
profiles
  
-->
<body>
  <div class="alerts"></div>

  <section class="sidebar">
    <div class="bg"></div>
    <div class="character">
      <p>Level 70 <span id="race"> Night Elf</span> Druid</p>
      <div class="stattab">
        <button class="statlinks" onclick="openStat(event, 'Defensive Stats')">Defensive Stats</button>
        <button class="statlinks" onclick="openStat(event, 'Threat Stats')" id="defaultOpen">Threat Stats</button>
      </div>
      <ul>
      <div id="Defensive Stats" class="tabcontent">
          <li>
            <label>HP</label>
            <span id="maxhp"></span>
          </li>
          <li>
            <label>Defense</label>
            <span id="def"></span>
          </li>
          <li>
            <label>Resilience</label>
            <span id="res"></span>
          </li>
          <li>
            <label>Armor</label>
            <span id="armor"></span>
          </li>
          <li>
            <label>EHP</label>
            <span id="ehp"></span>
          </li>
          <li>
            <label>Incoming Crit Chance</label>
            <span id="inccrit"></span>
          </li>
          <li>
            <label>Incoming Dodge Chance</label>
            <span id="incdodge"></span>
          </li>
          <li>
            <label>Incoming Miss Chance</label>
            <span id="incmiss"></span>
          </li>
      </div>
      <div id="Threat Stats" class="tabcontent">
          <li>
            <label>Attack Power</label>
            <span id="ap"></span>
          </li>
          <li>
            <label>Agility</label>
            <span id="agi"></span>
          </li>
          <li>
            <label>Hit</label>
            <span id="hit"></span>
          </li>
          <li>
            <label>Crit</label>
            <span id="crit"></span>
          </li>
          <li>
            <label>Expertise</label>
            <span id="expertise"></span>
          </li>
          <li>
            <label>Dmg Mod %</label>
            <span id="dmgmod"></span>
          </li>
          <li>
            <label>Haste</label>
            <span id="haste"></span>
          </li>
          <li>
            <label>Armor Penetration</label>
            <span id="arpen"></span>
          </li>
       </div>
    <li>
        <label>Sets</label>
        <span id="sets"></span>
    </li>
    <li>
        <label>Meta Gem</label>
        <span id="metagem"></span>
   </li>
 </ul>
  
    <div class="bottom">
      <div id="weights-div">
        <div id="weight-str"><span class="stat-name">Strength:</span><span class="stat-dps">12345</span><span class="stat-error">123</span></div>
        <div id="weight-agi"><span class="stat-name">Agility:</span><span class="stat-dps">12345</span><span class="stat-error">123</span></div>
        <div id="weight-ap"><span class="stat-name">Attack Power:</span><span class="stat-dps">12345</span><span class="stat-error">123</span></div>
        <div id="weight-crit"><span class="stat-name">1% Crit:</span><span class="stat-dps">12345</span><span class="stat-error">123</span></div>
        <div id="weight-hit"><span class="stat-name">1% Hit:</span><span class="stat-dps">12345</span><span class="stat-error">123</span></div>
        <div id="weight-haste"><span class="stat-name">1% Haste:</span><span class="stat-dps">12345</span><span class="stat-error">123</span></div>
      </div>
      <div id="tps-box"><span id="tps"></span><span id="tpserr"></span></div>
      <div id="tpsstats"></div>
      <div id="dps-box"><span id="dps"></span><span id="dpserr"></span></div>
      <div id="stats"></div>
      <div id="dtps-box"><span id="dtps"></span></div>
      <div id="dtpsstats"></div>
      <div id="score-box"><span id="score"></span></div>
      <div id="deaths"></div>
      <div id="saves"></div>
      <div id="pullvar"></div>
      <div id="time"></div>
      <a href="#" class="btn js-dps">RUN</a>
      <a href="#" class="btn js-table">RUN TAB</a>
      <a href="#" class="btn js-table-all">RUN ALL TABS</a>
      <a href="#" class="btn js-weights">STAT WEIGHTS</a>
      <a href="#" class="btn js-stats disabled">STATS</a>
      <a href="#" class="btn js-settings">SETTINGS</a>
      <!-- <a href="#" class="btn js-saveconfig">SAVE / LOAD CONFIG</a> -->
      <div class="popup">
      <ul>
      <li>SAVE CONFIG</li>
      <li>LOAD CONFIG</li>
      <li><input class="exit" value="close" type=btn /></li>
      </ul>
      </div>
    </div>
    <div class="author">made by Mobmentality-Westfall from Guybrush's Fury Sim</div>
    <div class="manual"><a href="https://github.com/mobmentality67/mobmentality67.github.io/blob/master/NOTES.md" target="_blank">WIP notes, bug reports, contributing</a></div>
  </section>

  <section class="settings">
    <a href="#" class="btn-close"></a>
    <div class="wrapper">

      <article class="fight">
        <label>Settings</label>
        <ul>
          <li>
            <label>Race</label>
              <select dir="rtl" name="race" id="raceselect">
                <option value="Night Elf">Night Elf</option>
                <option value="Tauren">Tauren</option>
              </select>
          </li>
          <li>
            <label>Simulations</label>
            <input type="text" name="simulations" value="50000" data-numberonly="true">
          </li>
          <li>
            <label>Simulations (All)</label>
            <input type="text" name="simulationsall" value="10" data-numberonly="true">
          </li>
          <li>
            <label>Apply Boss Preset</label>
            <select dir="rtl" name="bosspreset" id="bosspreset">
              <option value="none" selected></option>
              <option value="Teron Gorefiend">Teron Gorefiend</option>
              <option value="Mother Shahraz">Mother Shahraz</option>
              <option value="Gathios the Shatterer">Gathios the Shatterer</option>
              <option value="Kalecgos">Kalecgos</option>
              <option value="Brutallus">Brutallus</option>
              <option value="Felmyst">Felmyst</option>
              <option value="Lady Sacrolash">Lady Sacrolash</option>
              <option value="Entropius">Entropius</option>
            </select>
          </li>
          <li>
            <label>Fight Duration (min)</label>
            <input type="text" name="timesecsmin" value="220" data-numberonly="true" id="timesecmin">
          </li>
          <li>
            <label>Fight Duration (max)</label>
            <input type="text" name="timesecsmax" value="240" data-numberonly="true" id="timesecmax">
          </li>
          <li>
            <label>Initial Rage</label>
            <input type="text" name="startrage" value="0" data-numberonly="true">
          </li>
          <li>
            <label>Target Base Armor</label>
            <input type="text" name="targetbasearmor" value="7700" data-numberonly="true" id="targetbasearmor">
          </li>
          <li>
            <label>Weapon Damage RNG</label>
            <select dir="rtl" name="weaponrng">
              <option value="Yes">Yes</option>
              <option value="No">No</option>
            </select>
          </li>
          <li>
            <label>Boss Crush</label>
            <select dir="rtl" name="bosscrush" id="bosscrush">
              <option value="Yes">Yes</option>
              <option value="No">No</option>
            </select>
          </li>
          <li>
            <label>Boss Parry Haste</label>
            <select dir="rtl" name="bossparryhaste" id="bossparryhaste">
              <option value="Yes">Yes</option>
              <option value="No">No</option>
            </select>
          </li>
          <li>
            <label>Active Tank </label>
            <select dir="rtl" name="activetank" >
              <option value="Yes">Yes</option>
              <option value="No">No</option>
            </select>
          </li>
          <li>
            <label>Boss Damage (If Active Tank) </label>
              <input type="text" name="incswingdamage" value="22000" data-numberonly="true" id="incswingdamage">
          </li>
          <li>
            <label>Boss Swing Timer (If Active Tank)</label>
              <input type="text" name="incswingtimer" value="2.0" data-numberonly="true" id="incswingtimer">
          </li>
          <li>
            <label>Add 50% Damage Offhand Swing (No DW Penalty)</label>
            <select dir="rtl" name="bossdw" id="bossdw">
              <option value="Yes">Yes</option>
              <option value="No" selected>No</option>
            </select>
          </li>
          <li>
            <label>Pull variance check at least </label>
              <input type="text" name="pullvariancethreshold" value="28000" data-numberonly="true"> <br>
            <label>threat after seconds </label>
              <input type="text" name="pullvariancetime" value="20" data-numberonly="true"> <br>
            <label>Including misdirect threat for check </label>
              <input type="text" name="pullvariancemdthreat" value="2000" data-numberonly="true">
          </li>
          <li>
            <label>Incoming HPS (lifebloom model) </label>
              <input type="text" name="inchpslifebloom" value="800" data-numberonly="true" id="inchpslifebloom"> <br>
            <label>Incoming heal every 2.5 seconds  </label>
              <input type="text" name="incheal" value="4500" data-numberonly="true" id="incheal">
          </li>
          <li>
            <label> HP Percentage to use defensive trinkets </label>
              <input type="text" name="defensivethreshold" value="30" data-numberonly="true">
          </li>
          <li>
            <label> Survival skew for gear scoring </label>
              <input type="text" name="survivalskew" value="0.5" data-numberonly="true">
          </li>
        </ul>
      </article>

      <article class="buffs">
        <label>Buffs</label>
      </article>

      <article class="rotation">
        <label>Rotation</label>
      </article>

      <article class="talents">
        <label>Talents</label>
      </article>

      <article class="filter">
        <label>Gear Filter</label>
        <ul class="sources">
          <li data-id="quest">Quest</li>
          <li data-id="crafting">Crafting</li>
          <li data-id="dungeon">Dungeon</li>
          <li data-id="heroic">Heroic</li>
          <li data-id="reputation">Crafting</li>
          <li data-id="badges">Badges</li>
          <li data-id="karazhan">Karazhan</li>
          <li data-id="gruuls">Gruuls</li>
          <li data-id="magtheridon">Magtheridon</li>
          <li data-id="worldboss">World Boss</li>
          <li data-id="ssc">Serpentshrine Cavern</li>
          <li data-id="tk">Tempest Keep</li>
          <li data-id="bt">Black Temple</li>
          <li data-id="hyjal">Mount Hyjal</li>
          <li data-id="za">Zul'Aman</li>
          <li data-id="sunwell">Sunwell</li>
          <li data-id="pvp">PvP</li>
          <li data-id="other">Other</li>
        </ul>
        <ul class="phases">
          <li data-id="1" data-sources="karazhan,gruuls,magtheridon,worldboss">P1</li>
          <li data-id="2" data-sources="ssc,tk">P2</li>
          <li data-id="3" data-sources="hyjal,bt">P3</li>
          <li data-id="4" data-sources="za">P4</li>
          <li data-id="5" data-sources="sunwell">P5</li>
        </ul>
      </article>

      
      <article class="import">
        <label>70Up Import</label>
        <ul>
          <li>
            <div class="container" >
              <input type="file" name="file" id="file">
              
              <!-- Drag and Drop container-->
              <div class="upload-area"  id="uploadfile">
                <h1>Drag and Drop file here<br/>Or<br/>Click to select file</h1>
              </div>
          </div>
          
          <textarea name="importstring" class="importstring" value=""></textarea>
  
            <button type="button" class="js-import" name="import">
              Import
            </button>
            <span class="importmsg">
            </span>
          </li>
        </ul>
      </article>

    </div>
  </section>

  <section class="stats">
    <a href="#" class="btn-close"></a>
    <div class="wrapper">

      <article>
        <label>Fight Details</label>
        <div class="container-table"></div>
      </article>

      <article>
        <label>Damage</label>
        <div class="container-dmg"><canvas></canvas></div>
        <div class="legend"></div>
      </article>

      <article>
        <label>Aura Uptime</label>
        <div class="container-aura"><canvas></canvas></div>
      </article>

      <article>
        <label>TPS Spread</label>
        <div class="container-spread"><canvas></canvas></div>
      </article>

    </div>
  </section>

  <section class="main">
    <nav>
      <ul>
         <li data-type="twohand" class="active">
          <p>Weapon</p>
        </li>
        <li data-type="head"><p>Head</p></li>
        <li data-type="neck"><p>Neck</p></li>
        <li data-type="shoulder"><p>Shoulder</p></li>
        <li data-type="back"><p>Back</p></li>
        <li data-type="chest"><p>Chest</p></li>
        <li data-type="wrist"><p>Wrist</p></li>
        <li data-type="hands"><p>Hands</p></li>
        <li data-type="waist"><p>Waist</p></li>
        <li data-type="legs"><p>Legs</p></li>
        <li data-type="feet"><p>Feet</p></li>
        <li data-type="finger1"><p>Ring 1</p></li>
        <li data-type="finger2"><p>Ring 2</p></li>
        <li data-type="trinket1"><p>Trinket 1</p></li>
        <li data-type="trinket2"><p>Trinket 2</p></li>
        <li data-type="ranged"><p>Idol</p></li>
        <li data-type="custom"><p>Custom</p></li>
      </ul>
    </nav>

    <div class="table-container"></div>
    <div class="button-container">
      <a href="#" class="btn js-editmode">SHOW / HIDE ROWS</a>
      <a href="#" class="btn js-enchant">ENCHANTS TPS</a>
      <a href="#" class="btn js-table">GEAR TPS</a>
    </div>
    
    <progress value="0" max="100"></progress>
  </section>

  <script>
    function openStat(evt, statName) {
      // Declare all variables
      var i, tabcontent, tablinks;

      // Get all elements with class="tabcontent" and hide them
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }

      // Get all elements with class="statlinks" and remove the class "active"
      tablinks = document.getElementsByClassName("statlinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }

      // Show the current tab, and add an "active" class to the button that opened the tab
      document.getElementById(statName).style.display = "block";
      evt.currentTarget.className += " active";
    }
  </script>

  <script>
    $(document).ready(function () {
      SIM.UI.init();
      SIM.SETTINGS.init();
      SIM.STATS.init();
      document.getElementById("defaultOpen").click();
    });
  </script>

</body>

</html>
